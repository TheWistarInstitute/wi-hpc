Bootstrap: docker
From: ubuntu:20.04

%post
  
  # update and upgrade
  apt -y update && apt -y upgrade

  # install dependices
  apt -y install wget dpkg unzip

  # install maxquant
  wget https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
  dpkg -i packages-microsoft-prod.deb
  apt-get update; \
  apt-get install -y apt-transport-https && \
  apt-get update && \
  apt-get install -y dotnet-sdk-8.0

  # copy over archive
  cp /mnt/aharral/software/MaxQuant_v2.6.3.0.zip /opt/

  # unpack
  cd /opt/
  unzip MaxQuant_v2.6.3.0
  rm MaxQuant_v2.6.3.0.zip

  dotnet MaxQuant_v2.6.3.0/bin/MaxQuantCmd.dll --create new_mqpar.xml
  #dotnet MaxQuant_v2.6.3.0/bin/MaxQuantCmd.dll new_mqpar.xml
